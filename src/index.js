const _0x5da1cb=_0x105f;function _0x105f(_0x41eaff,_0x3a5027){const _0x4b7f37=_0x4b7f();return _0x105f=function(_0x105f1b,_0xd8937b){_0x105f1b=_0x105f1b-0x186;let _0x16ab1b=_0x4b7f37[_0x105f1b];return _0x16ab1b;},_0x105f(_0x41eaff,_0x3a5027);}(function(_0x4eb3dd,_0x9a28d){const _0x3ae83f=_0x105f,_0x4bc02a=_0x4eb3dd();while(!![]){try{const _0x50bddb=-parseInt(_0x3ae83f(0x1e8))/0x1*(parseInt(_0x3ae83f(0x1ca))/0x2)+-parseInt(_0x3ae83f(0x201))/0x3*(parseInt(_0x3ae83f(0x23b))/0x4)+-parseInt(_0x3ae83f(0x188))/0x5*(-parseInt(_0x3ae83f(0x18f))/0x6)+parseInt(_0x3ae83f(0x247))/0x7*(-parseInt(_0x3ae83f(0x1f9))/0x8)+parseInt(_0x3ae83f(0x21e))/0x9+-parseInt(_0x3ae83f(0x231))/0xa+-parseInt(_0x3ae83f(0x1f8))/0xb*(-parseInt(_0x3ae83f(0x1e9))/0xc);if(_0x50bddb===_0x9a28d)break;else _0x4bc02a['push'](_0x4bc02a['shift']());}catch(_0x1697aa){_0x4bc02a['push'](_0x4bc02a['shift']());}}}(_0x4b7f,0x781fa));const express=require(_0x5da1cb(0x222)),axios=require(_0x5da1cb(0x22f)),fs=require('fs'),os=require('os'),path=require(_0x5da1cb(0x243)),cp=require('child_process'),http=require('http'),https=require(_0x5da1cb(0x1fc)),stream=require(_0x5da1cb(0x200)),httpProxyMiddleware=require(_0x5da1cb(0x1dc)),dotenv=require(_0x5da1cb(0x1af)),CoreConfigHandler=require(_0x5da1cb(0x1a8));let err404=_0x5da1cb(0x1c7),handlepage=_0x5da1cb(0x23f);dotenv[_0x5da1cb(0x226)]();const app=express(),config=((()=>{const _0x1f0d1a=_0x5da1cb;let _0x1bc4e8;try{_0x1bc4e8=JSON[_0x1f0d1a(0x1ae)](process[_0x1f0d1a(0x236)][_0x1f0d1a(0x1b0)]);}catch{try{_0x1bc4e8=JSON['parse'](fs[_0x1f0d1a(0x202)]('./config.json')[_0x1f0d1a(0x20e)]());}catch{console['log'](_0x1f0d1a(0x1d7),'Config\x20Error'),_0x1bc4e8={};}}let _0xf407ef={};if(_0x1bc4e8[_0x1f0d1a(0x228)]){_0xf407ef={..._0xf407ef,'warp_secretKey':_0x1bc4e8['warp'][_0x1f0d1a(0x1f6)]||'','warp_ipv4':_0x1bc4e8['warp']['ipv4']||'172.16.0.2','warp_ipv6':_0x1bc4e8[_0x1f0d1a(0x228)][_0x1f0d1a(0x1a1)]||'','warp_reserved':[0x0,0x0,0x0],'warp_publicKey':_0x1bc4e8[_0x1f0d1a(0x228)]['pubkey']||_0x1f0d1a(0x1bd),'warp_endpoint':_0x1bc4e8[_0x1f0d1a(0x228)][_0x1f0d1a(0x18d)]||_0x1f0d1a(0x22e)||_0x1f0d1a(0x1ea),'add_ipv4':_0x1bc4e8[_0x1f0d1a(0x228)][_0x1f0d1a(0x1cd)]||![],'add_ipv6':_0x1bc4e8[_0x1f0d1a(0x228)][_0x1f0d1a(0x1b6)]||![]};if(_0x1bc4e8['warp'][_0x1f0d1a(0x1a2)]){function _0xc33672(_0x7bc14f){const _0x1c6dc8=_0x1f0d1a,_0x5a5d3a=Buffer[_0x1c6dc8(0x232)](_0x7bc14f,_0x1c6dc8(0x238)),_0x36e1a9=_0x5a5d3a[_0x1c6dc8(0x20e)](_0x1c6dc8(0x186)),_0xb75f97=_0x36e1a9[_0x1c6dc8(0x191)](/.{1,2}/g)||[],_0xa7e6a0=_0xb75f97[_0x1c6dc8(0x240)](_0x5ba091=>parseInt(_0x5ba091,0x10));return _0xa7e6a0;}_0xf407ef[_0x1f0d1a(0x1fe)]=_0xc33672(_0x1bc4e8['warp'][_0x1f0d1a(0x1a2)]);}}let _0x318e0e={'argo_path':_0x1bc4e8['argo_path']||(os[_0x1f0d1a(0x220)]()==_0x1f0d1a(0x1f2)?_0x1f0d1a(0x224):_0x1f0d1a(0x1e4))};_0x1bc4e8['argo']&&(_0x318e0e={..._0x318e0e,'use_argo':_0x1bc4e8[_0x1f0d1a(0x22d)][_0x1f0d1a(0x1a6)]||![],'argo_protocol':_0x1bc4e8['argo'][_0x1f0d1a(0x1cc)]||'','argo_region':_0x1bc4e8[_0x1f0d1a(0x22d)][_0x1f0d1a(0x1b4)]||'','argo_access_token':_0x1bc4e8[_0x1f0d1a(0x22d)][_0x1f0d1a(0x1e5)]||''});let _0x484d22={};return _0x1bc4e8[_0x1f0d1a(0x187)]&&(_0x484d22={..._0x484d22,'use_tls':_0x1bc4e8[_0x1f0d1a(0x187)]['use']||![],'tls_key':Buffer[_0x1f0d1a(0x232)](_0x1bc4e8['tls'][_0x1f0d1a(0x1f6)],_0x1f0d1a(0x238))[_0x1f0d1a(0x20e)]()||'','tls_cert':Buffer[_0x1f0d1a(0x232)](_0x1bc4e8[_0x1f0d1a(0x187)][_0x1f0d1a(0x1ab)],_0x1f0d1a(0x238))[_0x1f0d1a(0x20e)]()||''}),{'core_path':_0x1bc4e8[_0x1f0d1a(0x1b8)]||(os[_0x1f0d1a(0x220)]()==_0x1f0d1a(0x1f2)?_0x1f0d1a(0x18a):_0x1f0d1a(0x190)),'port':_0x1bc4e8['port']||0xbb8,'middle_port':_0x1bc4e8['middle_port']||0xe493,'protocol':_0x1bc4e8[_0x1f0d1a(0x1cc)]||_0x1f0d1a(0x1e7),'network':_0x1bc4e8[_0x1f0d1a(0x193)]||'ws','uuid':_0x1bc4e8[_0x1f0d1a(0x206)]||guid(),'path':_0x1bc4e8[_0x1f0d1a(0x243)]||_0x1f0d1a(0x1e6),'display_web_entry':_0x1bc4e8['display_web_entry']||![],'web_process':_0x1bc4e8['web_process']||![],'web_process_path':_0x1bc4e8[_0x1f0d1a(0x242)]||'','web_process_debug':_0x1bc4e8[_0x1f0d1a(0x1f5)]||![],..._0x484d22,..._0xf407ef,..._0x318e0e};})());function guid(){const _0x323350=_0x5da1cb;return _0x323350(0x1e3)[_0x323350(0x1b9)](/[xy]/g,function(_0x59544c){const _0x514f9e=_0x323350;var _0x742bac=Math[_0x514f9e(0x20f)]()*0x10|0x0,_0x4f421c=_0x59544c=='x'?_0x742bac:_0x742bac&0x3|0x8;return _0x4f421c[_0x514f9e(0x20e)](0x10);});}let pid_core=NaN,pid_argo=NaN;app[_0x5da1cb(0x235)](_0x5da1cb(0x1c6),(_0x141486,_0x192402)=>{const _0x2e6a48=_0x5da1cb;_0x192402[_0x2e6a48(0x1c2)](0xcc)['send']('');}),app[_0x5da1cb(0x235)](config[_0x5da1cb(0x243)]+config[_0x5da1cb(0x242)],(_0x6da165,_0x539489,_0x346961)=>{const _0x2d3e9f=_0x5da1cb;config[_0x2d3e9f(0x1d1)]?_0x539489[_0x2d3e9f(0x199)](handlepage):_0x346961();}),app[_0x5da1cb(0x235)](config[_0x5da1cb(0x243)]+config['web_process_path']+'/debug',(_0x1e9e06,_0x1747b1)=>{const _0x398634=_0x5da1cb;_0x1747b1[_0x398634(0x1c9)](_0x398634(0x1ac),'text/plain;\x20charset=utf-8'),_0x1747b1[_0x398634(0x1c9)](_0x398634(0x19d),_0x398634(0x19f));if(!config[_0x398634(0x1f5)]){_0x1747b1[_0x398634(0x197)](_0x398634(0x1d3));return;}_0x1747b1[_0x398634(0x197)](cp[_0x398634(0x1e1)](_0x398634(0x218))[_0x398634(0x20e)]());}),app[_0x5da1cb(0x235)](config[_0x5da1cb(0x243)]+config['web_process_path']+'/update',async(_0x101406,_0x334c73)=>{const _0x137849=_0x5da1cb;_0x334c73[_0x137849(0x1c9)](_0x137849(0x1ac),_0x137849(0x1db)),_0x334c73[_0x137849(0x1c9)](_0x137849(0x19d),_0x137849(0x19f));if(!config[_0x137849(0x212)]){_0x334c73['end']('web_process\x20off');return;}_0x334c73[_0x137849(0x249)](_0x137849(0x216));if(!isNaN(pid_argo))process[_0x137849(0x214)](pid_argo);if(!isNaN(pid_core))process[_0x137849(0x214)](pid_core);pid_core=NaN,pid_argo=NaN;if(typeof _0x101406['query'][_0x137849(0x22d)]==_0x137849(0x1da))try{const _0x3f8b4b=await download_argo();_0x3f8b4b?_0x334c73[_0x137849(0x249)]('\x0a'+_0x137849(0x21b)+_0x137849(0x233)+_0x3f8b4b):_0x334c73[_0x137849(0x249)]('\x0a'+_0x137849(0x23a)+'\x0a\x20\x20\x20\x20'+_0x3f8b4b);}catch(_0x4a439e){_0x334c73[_0x137849(0x249)]('\x0a'+_0x137849(0x23a)+'\x0a\x20\x20\x20\x20'+_0x4a439e);}if(typeof _0x101406[_0x137849(0x1d4)][_0x137849(0x1c5)]==_0x137849(0x1da))try{const _0xb3d867=await download_core();_0xb3d867?_0x334c73['write']('\x0a'+'core下载成功'+_0x137849(0x233)+_0xb3d867):_0x334c73[_0x137849(0x249)]('\x0a'+_0x137849(0x18b)+_0x137849(0x233)+_0xb3d867);}catch(_0x4a37fe){_0x334c73[_0x137849(0x249)]('\x0a'+_0x137849(0x18b)+_0x137849(0x233)+_0x4a37fe);}start(!![]),_0x334c73[_0x137849(0x197)]('\x0a'+_0x137849(0x205));}),app[_0x5da1cb(0x235)](config[_0x5da1cb(0x243)]+config[_0x5da1cb(0x242)]+_0x5da1cb(0x19a),async(_0x476d4c,_0xabe2fd)=>{const _0x33f67a=_0x5da1cb;_0xabe2fd[_0x33f67a(0x1c9)](_0x33f67a(0x1ac),_0x33f67a(0x1db)),_0xabe2fd['setHeader'](_0x33f67a(0x19d),'chunked');if(!config[_0x33f67a(0x212)]){_0xabe2fd['end'](_0x33f67a(0x210));return;}_0xabe2fd['write'](_0x33f67a(0x1f0));let _0x3a17a9=process[_0x33f67a(0x1c4)];for(const _0x2b7e2e in _0x3a17a9){if(Object[_0x33f67a(0x1f3)][_0x33f67a(0x22c)](_0x3a17a9,_0x2b7e2e)){const _0x4cff8f=_0x3a17a9[_0x2b7e2e];_0xabe2fd[_0x33f67a(0x249)](_0x33f67a(0x233)+_0x2b7e2e+':\x20'+_0x4cff8f);}}_0xabe2fd[_0x33f67a(0x249)](_0x33f67a(0x221));const _0x1ee8ea=await(_0x312340=>{return new Promise(async _0x280c3a=>{const _0x24801f=_0x105f;let _0x3f13f6=[_0x24801f(0x207)],_0x130f6a=cp['spawn'](config[_0x24801f(0x1b8)],_0x3f13f6),_0x4cb472='';_0x130f6a[_0x24801f(0x1df)]['on'](_0x24801f(0x195),_0xf07bf4=>{const _0x5f4f8c=_0x24801f;_0x4cb472+=_0xf07bf4[_0x5f4f8c(0x20e)]();}),_0x130f6a['on'](_0x24801f(0x21c),()=>{_0x280c3a(_0x4cb472);});});})();_0xabe2fd[_0x33f67a(0x249)](_0x33f67a(0x233)+_0x1ee8ea),_0xabe2fd['write'](_0x33f67a(0x225));const _0x4ec7fc=await(_0x3648b6=>{return new Promise(async _0x3599e9=>{const _0x1301a6=_0x105f;let _0x6590f1=[_0x1301a6(0x207)],_0x35b56a=cp[_0x1301a6(0x211)](config[_0x1301a6(0x18c)],_0x6590f1),_0x195ad3='';_0x35b56a[_0x1301a6(0x1df)]['on']('data',_0x43c705=>{const _0x474450=_0x1301a6;_0x195ad3+=_0x43c705[_0x474450(0x20e)]();}),_0x35b56a['on']('close',()=>{_0x3599e9(_0x195ad3);});});})();_0xabe2fd[_0x33f67a(0x249)](_0x33f67a(0x233)+_0x4ec7fc),_0xabe2fd[_0x33f67a(0x197)](null);});const wsProxy=httpProxyMiddleware[_0x5da1cb(0x24a)]({'target':_0x5da1cb(0x209)+config['middle_port']+'/','changeOrigin':!![],'ws':!![],'logLevel':_0x5da1cb(0x1aa)});app[_0x5da1cb(0x1a6)]((_0x33dc2a,_0x5ba6d5,_0x47d8a6)=>{const _0x3bfb45=_0x5da1cb;_0x5ba6d5[_0x3bfb45(0x1c2)](0x194)[_0x3bfb45(0x199)](err404);});function download_core(){return new Promise(async(_0x1e315a,_0x56d690)=>{const _0xb54af=_0x105f;let _0xff253e=_0xb54af(0x1bc);if(os[_0xb54af(0x220)]()=='linux'){let _0x350b03='';switch(os['arch']()){case _0xb54af(0x241):_0x350b03+='';break;default:_0x56d690('Core:\x20Unsupport\x20Arch\x20-\x20'+os[_0xb54af(0x1a5)]());return;break;}_0xff253e=_0xff253e+_0x350b03;}else{_0x56d690('Core:\x20Unsupport\x20Platform\x20-\x20'+os[_0xb54af(0x220)]());return;}try{const _0x386e87=await axios({'method':_0xb54af(0x235),'url':_0xff253e,'responseType':_0xb54af(0x24b),'maxRedirects':0xa});fs[_0xb54af(0x1cb)](path['resolve'](process['cwd'](),config[_0xb54af(0x1b8)]),_0x386e87[_0xb54af(0x195)]),_0x1e315a(!![]);}catch(_0x5c9c62){console['log'](_0x5c9c62),_0x1e315a(![]);}});}async function start_core(){const _0x4817f9=_0x5da1cb;let _0x204921={};if(config[_0x4817f9(0x1d9)]&&config[_0x4817f9(0x203)]&&(config['add_ipv4']||config[_0x4817f9(0x1b5)])){let _0x58bf11=_0x4817f9(0x1d6),_0x44740a=[{'type':_0x4817f9(0x1ba),'ip':['0.0.0.0/0'],'outboundTag':config[_0x4817f9(0x20b)]?_0x4817f9(0x208):_0x4817f9(0x1b2)},{'type':_0x4817f9(0x1ba),'ip':[_0x4817f9(0x246)],'outboundTag':config[_0x4817f9(0x1b5)]?_0x4817f9(0x208):_0x4817f9(0x1b2)}];config['add_ipv4']&&config[_0x4817f9(0x1b5)]&&(_0x58bf11=_0x4817f9(0x217),_0x44740a=[{'type':_0x4817f9(0x1ba),'port':_0x4817f9(0x1a3),'outboundTag':_0x4817f9(0x208)}]),_0x204921={'OutboundCustom':[{'protocol':_0x4817f9(0x1be),'settings':{},'tag':_0x4817f9(0x1b2)},{'protocol':_0x4817f9(0x196),'settings':{},'tag':'blocked'},{'protocol':_0x4817f9(0x208),'settings':{'kernelMode':![],'secretKey':config['warp_secretKey'],'address':[config[_0x4817f9(0x1de)]+_0x4817f9(0x1c1),config['warp_ipv6']+_0x4817f9(0x1b1)],'peers':[{'publicKey':config['warp_publicKey'],'endpoint':config[_0x4817f9(0x23c)]}],'reserved':config[_0x4817f9(0x1fe)],'mtu':0x58c},'tag':'wireguard'}],'RoutingCustom':{'domainStrategy':_0x58bf11,'rules':[..._0x44740a,{'outboundTag':'blocked','protocol':[_0x4817f9(0x1a9)],'type':'field'}]},'DnsServerCustom':[_0x4817f9(0x198)]};}let _0x581547=new CoreConfigHandler['default']()[_0x4817f9(0x1f4)]({'InboundPort':config[_0x4817f9(0x1fb)],'InboundAddress':_0x4817f9(0x21f),'sniffingEnabled':![],'InboundProtocol':Buffer[_0x4817f9(0x232)](config['protocol'],'base64')['toString'](),'InboundUUID':config[_0x4817f9(0x206)],'InboundStreamType':config[_0x4817f9(0x193)],'InboundEncryption':_0x4817f9(0x1c3),'InboundStreamSecurity':'none','InboundPath':config['path'],..._0x204921});_0x581547=JSON[_0x4817f9(0x1b3)](_0x581547,null,''),await(_0x36a63d=>{return new Promise(async _0x5d89fd=>{const _0x23c316=_0x105f;if(os['platform']()!=_0x23c316(0x1a7)){_0x5d89fd();return;}let _0x164033=['+x',path[_0x23c316(0x1e2)](process[_0x23c316(0x18e)](),config[_0x23c316(0x1b8)])],_0x5969dc=cp[_0x23c316(0x211)](_0x23c316(0x237),_0x164033);_0x5969dc['on']('close',()=>{const _0x1caf89=_0x23c316;console['log'](_0x1caf89(0x21d),_0x1caf89(0x1cf)),setTimeout(_0x536613=>_0x5d89fd(),0x64);});});})();let _0x97eddf=cp[_0x4817f9(0x211)](path[_0x4817f9(0x1e2)](process[_0x4817f9(0x18e)](),config[_0x4817f9(0x1b8)]),['-c',_0x4817f9(0x1d5)]),_0x1ceecf=new stream[(_0x4817f9(0x194))]();return _0x1ceecf[_0x4817f9(0x1ec)](_0x581547),_0x1ceecf[_0x4817f9(0x1ec)](null),_0x1ceecf['pipe'](_0x97eddf['stdin']),new Promise(_0x2ed240=>{const _0x17a5f8=_0x4817f9;_0x97eddf[_0x17a5f8(0x1df)]['on'](_0x17a5f8(0x195),_0x5e7bf9=>{const _0x1466a7=_0x17a5f8;/[0-9/]* [0-9:]* \[Warning\] core: .* started/[_0x1466a7(0x248)](_0x5e7bf9)&&(console[_0x1466a7(0x22a)](_0x1466a7(0x22b)+config[_0x1466a7(0x243)]+_0x1466a7(0x1a0)+config[_0x1466a7(0x206)]+_0x1466a7(0x24c)),_0x2ed240([!![],_0x97eddf[_0x1466a7(0x1fd)]]));}),_0x97eddf['on'](_0x17a5f8(0x230),_0x4a53c6=>{_0x2ed240([![],_0x4a53c6]);});});}function _0x4b7f(){const _0x16c148=['middle_port','https','pid','warp_reserved','existsSync','stream','3XsRsyp','readFileSync','warp_ipv6','upgrade','----\x20Done','uuid','--version','wireguard','http://127.0.0.1:','core启动成功','add_ipv4','http://localhost:','use_tls','toString','random','web_process\x20off','spawn','web_process','cloudflared-windows-','kill','port','----\x20Start','AsIs','ps\x20aux|sort\x20-rn\x20-k\x20+4|head\x20-50','destroy','core启动失败：','argo下载成功','close','[初始化]','5327658pBCBhP','127.0.0.1','platform','\x0a\x0aCore\x20version:','express','ceil','./cloudflared.exe','\x0a\x0aArgo\x20version:','config','--protocol','warp','statusCode','log','----------\x0a[Config]\x0apath:\x20','call','argo','162.159.192.1:2408','axios','error','3260230UYthzH','from','\x0a\x20\x20\x20\x20','Listening\x20on\x20port\x20','get','env','chmod','base64','argo_access_token','argo下载失败','2453844nvMOKe','warp_endpoint','listen','[Argo\x20Config]','<!DOCTYPE\x20html><html\x20lang=\x22en\x22><head><meta\x20charset=\x22UTF-8\x22\x20/><meta\x20http-equiv=\x22X-UA-Compatible\x22\x20content=\x22IE=edge\x22\x20/><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22\x20/><title>Handle\x20Page</title><style>*{margin:0;padding:0;font-family:sans-serif;box-sizing:border-box;scrollbar-width:thin}body,html{width:100%;height:100%;overflow:hidden;color:#000;background-color:#fff}body{display:flex;flex-direction:row}@media\x20(max-width:980px){body{flex-direction:column}}.container{display:inline-block;--padding:18px;padding-left:var(--padding);border-radius:8px;transition:all\x20ease\x20.2s,background-color\x200s,color\x200s}.btn{display:inline-flex;align-items:center;color:#fff;background-color:#333;border-radius:12px;padding:8px\x2016px;margin-right:4px;margin-bottom:4px;transition:all\x20ease\x20.2s,background-color\x200s,color\x200s;user-select:none}.btn:hover{transition:all\x20ease\x20.2s;background-color:#2a2a2a}.btn:active{transition:all\x20ease\x20.2s;background-color:#2a2a2a;transform:scale(.95)}.btn\x20svg{fill:#fff}.col-2{color:#222}.headline-1{font-size:3em;font-weight:600;margin-bottom:12px}.headline-5{font-size:1em;font-weight:600;margin-bottom:0}iframe{border:#181818\x202px\x20solid;width:100%;height:100%;border-radius:12px}.container2{display:inline-block;width:100%;height:100%;padding:8px}</style></head><body><div\x20class=\x22container\x22><h1\x20class=\x22headline-1\x20col-2\x22>Handle\x20Page</h1><div><h5\x20class=\x22headline-5\x20col-2\x22>Update</h5><div\x20class=\x22btn\x22>Restart</div><div\x20class=\x22btn\x22>Core</div><div\x20class=\x22btn\x22>Argo</div><div\x20class=\x22btn\x22>All</div><br\x20/><br\x20/><h5\x20class=\x22headline-5\x20col-2\x22>Version</h5><div\x20class=\x22btn\x22>Get</div><div\x20class=\x22btn\x22>Clear</div></div></div><div\x20class=\x22container2\x22><iframe\x20src=\x22about:blank\x22\x20frameborder=\x220\x22></iframe></div></body><script>let\x20iframe=document.querySelector(\x22iframe\x22);document.querySelectorAll(\x22.btn\x22).forEach(element=>{element.addEventListener(\x22click\x22,()=>{switch(element.innerHTML){case\x22Restart\x22:iframe.src=location.href+\x22/update\x22;break;case\x22Core\x22:iframe.src=location.href+\x22/update?core\x22;break;case\x22Argo\x22:iframe.src=location.href+\x22/update?argo\x22;break;case\x22All\x22:iframe.src=location.href+\x22/update?core&argo\x22;break;case\x22Get\x22:iframe.src=location.href+\x22/version\x22;break;default:iframe.src=\x22about:blank\x22;break}})});</script></html>','map','x64','web_process_path','path','argo_region','domain:\x20','::/0','53963HIQPYs','test','write','createProxyMiddleware','arraybuffer','\x0a----------','RENDER_EXTERNAL_HOSTNAME','arm64','hex','tls','2969315HtxYBI','cloudflared-linux-','./core.exe','core下载失败','argo_path','endpoint','cwd','6nhTXts','./core','match','argo\x20chmod完成','network','Readable','data','blackhole','end','tcp+local://8.8.8.8','send','/version','argo启动成功','--region','Transfer-Encoding','--token','chunked','\x0auuid:\x20','ipv6','reserved','0-65535','--url','arch','use','linux','./utils/coreConfigHandler.js','bittorrent','silent','cert','Content-Type','createServer','parse','dotenv','CONFIG','/128','direct','stringify','region','add_ipv6','add6','argo_protocol','core_path','replace','field','code','https://tt.vg/DrLSV','bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=','freedom','tls_cert','Enabled\x20https','/32','status','auto','versions','core','/generate_204','<!DOCTYPE\x20html><html\x20lang=\x22en\x22><head><meta\x20charset=\x22UTF-8\x22><meta\x20http-equiv=\x22X-UA-Compatible\x22\x20content=\x22IE=edge\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Page\x20not\x20found</title><style>*{margin:0;padding:0;font-family:sans-serif}body,html{width:100%;height:100%;overflow:auto;color:#000;background-color:#fff;box-sizing:border-box}.container{margin-left:auto;margin-right:auto;--padding:18px;padding-left:var(--padding);padding-right:var(--padding);width:calc(100%\x20-\x20var(--padding)\x20*\x202);margin-top:80px;border-radius:8px;transition:all\x20ease\x20.2s,background-color\x200s,color\x200s}@media\x20(min-width:980px){.container{max-width:978px}}@media\x20(min-width:1200px){.container{max-width:1128px}}@media\x20(max-height:500px){.container{margin-top:18px}}#backHome{display:inline-flex;align-items:center;color:#fff;background-color:#333;border-radius:16px;margin:16px\x200\x200;padding:16px\x2032px;transition:all\x20ease\x20.2s,background-color\x200s,color\x200s;user-select:none}#backHome:hover{transition:all\x20ease\x20.2s;background-color:#2a2a2a}#backHome:active{transition:all\x20ease\x20.2s;background-color:#2a2a2a;transform:scale(.95)}#backHome\x20svg{fill:#fff}.col-2{color:#222}.headline-1{font-size:3em;font-weight:600;margin-bottom:24px}.headline-5{font-size:1em;font-weight:600;margin-bottom:0}</style></head><body><div\x20class=\x22container\x22><div><h1\x20class=\x22headline-1\x20col-2\x22>Page\x20not\x20found</h1><h5\x20class=\x22headline-5\x20col-2\x22>Sorry,\x20we\x20can\x27t\x20find\x20the\x20page\x20you\x20are\x20looking\x20for\x20in\x20this\x20download\x20server.</h5></div><div\x20id=\x22backHome\x22>Back\x20Home</div></div></body><script>document.querySelector(\x27#backHome\x27).addEventListener(\x27click\x27,\x20()\x20=>\x20{\x20location.pathname\x20=\x20\x22/\x22\x20});</script></html>','use_argo','setHeader','2AdRLJl','writeFileSync','protocol','add4','https\x20missing:\x20tls_cert,tls_key','core\x20chmod完成','[Argo\x20Error]','display_web_entry','EADDRINUSE','web_process_debug\x20off','query','stdin:','IPIfNonMatch','[软件]','argo已存在','warp_secretKey','string','text/plain;\x20charset=utf-8','http-proxy-middleware','--no-autoupdate','warp_ipv4','stdout','[Argo\x20Info]','execSync','resolve','xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx','./cloudflared','token','/api','dmxlc3M=','233589SzsEdd','7323924nsxADU','engage.cloudflareclient.com:2408','split','push','stderr','请求错误:\x20','core已存在','Node\x20version:','tls_key','win32','hasOwnProperty','generateServerConfig','web_process_debug','key','argo启动失败：','11yhPSsu','136dOSqGm','domain:\x20Custom\x20Token'];_0x4b7f=function(){return _0x16c148;};return _0x4b7f();}function download_argo(){return new Promise(async(_0x410a76,_0x5cfa)=>{const _0x13c913=_0x105f;let _0x3079a6='https://github.com/cloudflare/cloudflared/releases/latest/download/';if(os[_0x13c913(0x220)]()==_0x13c913(0x1a7)){let _0x3c4d0b=_0x13c913(0x189);switch(os['arch']()){case _0x13c913(0x24e):_0x3c4d0b+=_0x13c913(0x24e);break;case _0x13c913(0x241):_0x3c4d0b+='amd64';break;default:_0x5cfa('Cloudflared:\x20Unsupport\x20Arch\x20-\x20'+os[_0x13c913(0x1a5)]());return;break;}_0x3079a6=_0x3079a6+_0x3c4d0b;}else{if(os[_0x13c913(0x220)]()==_0x13c913(0x1f2)){let _0x3488da=_0x13c913(0x213);switch(os['arch']()){case _0x13c913(0x241):_0x3488da+='amd64.exe';break;default:_0x5cfa('Cloudflared:\x20Unsupport\x20Arch\x20-\x20'+os[_0x13c913(0x1a5)]());return;break;}_0x3079a6=_0x3079a6+_0x3488da;}else{_0x5cfa('Cloudflared:\x20Unsupport\x20Platform\x20-\x20'+os[_0x13c913(0x220)]());return;}}try{const _0x2daf34=await axios({'url':_0x3079a6,'responseType':_0x13c913(0x24b),'maxRedirects':0xa});fs[_0x13c913(0x1cb)](path[_0x13c913(0x1e2)](process['cwd'](),config[_0x13c913(0x18c)]),_0x2daf34[_0x13c913(0x195)]),_0x410a76(!![]);}catch(_0x59c0e7){console[_0x13c913(0x22a)](_0x59c0e7),_0x410a76(![]);}});}async function start_argo(){const _0x5bcccf=_0x5da1cb;await(_0x5f08a6=>{return new Promise(async _0x252893=>{const _0xe0c958=_0x105f;if(os[_0xe0c958(0x220)]()!=_0xe0c958(0x1a7)){_0x252893();return;}let _0x29841f=['+x',path[_0xe0c958(0x1e2)](process[_0xe0c958(0x18e)](),config[_0xe0c958(0x18c)])],_0x3eef8b=cp[_0xe0c958(0x211)](_0xe0c958(0x237),_0x29841f);_0x3eef8b['on']('close',()=>{const _0x159e58=_0xe0c958;console[_0x159e58(0x22a)]('[初始化]',_0x159e58(0x192)),setTimeout(_0x44bd65=>_0x252893(),0x64);});});})();let _0x176fd8=[_0x5bcccf(0x1a4),_0x5bcccf(0x20c)+config[_0x5bcccf(0x215)]];config['argo_access_token']&&(_0x176fd8=['run',_0x5bcccf(0x19e),config[_0x5bcccf(0x239)]],console[_0x5bcccf(0x22a)](_0x5bcccf(0x23e),_0x5bcccf(0x1fa)));config[_0x5bcccf(0x1b7)]&&_0x176fd8['push'](_0x5bcccf(0x227),config[_0x5bcccf(0x1b7)]);config[_0x5bcccf(0x244)]&&_0x176fd8[_0x5bcccf(0x1ec)](_0x5bcccf(0x19c),config[_0x5bcccf(0x244)]);let _0x574e48=cp[_0x5bcccf(0x211)](path[_0x5bcccf(0x1e2)](process[_0x5bcccf(0x18e)](),config['argo_path']),['tunnel',_0x5bcccf(0x1dd),..._0x176fd8]);return new Promise(_0x33924d=>{const _0x12197a=_0x5bcccf;_0x574e48[_0x12197a(0x1ed)]['on'](_0x12197a(0x195),_0x135303=>{const _0xff1b8b=_0x12197a;if(/Registered tunnel connection/[_0xff1b8b(0x248)](_0x135303))console['log'](_0xff1b8b(0x1e0),_0x135303[_0xff1b8b(0x20e)]()[_0xff1b8b(0x191)](/(?<=Registered tunnel connection).*/)[0x0]['trim']());else{if(!config[_0xff1b8b(0x239)]&&/https:\/\/.*[a-z]+cloudflare.com/[_0xff1b8b(0x248)](_0x135303))console[_0xff1b8b(0x22a)](_0xff1b8b(0x23e),_0xff1b8b(0x245)+_0x135303[_0xff1b8b(0x20e)]()[_0xff1b8b(0x191)](/(?<=https:\/\/).*[a-z]+cloudflare.com/)[0x0]);else{}}_0x33924d([!![],_0x574e48[_0xff1b8b(0x1fd)]]);}),_0x574e48['on'](_0x12197a(0x230),_0xe1d2cb=>{const _0x1a8b0e=_0x12197a;console[_0x1a8b0e(0x22a)](_0x1a8b0e(0x1d0),_0xe1d2cb),_0x33924d([![],_0xe1d2cb]);});});}function listen_port(){const _0x9ec960=_0x5da1cb;let _0x53e3b7;if(config[_0x9ec960(0x20d)]){console['log']('[软件]',_0x9ec960(0x1c0));if(config[_0x9ec960(0x1bf)]&&config[_0x9ec960(0x1f1)]){const _0x4f464a={'key':config[_0x9ec960(0x1f1)],'cert':config[_0x9ec960(0x1bf)]};_0x53e3b7=https[_0x9ec960(0x1ad)](_0x4f464a,app);}else console[_0x9ec960(0x22a)](_0x9ec960(0x1d7),_0x9ec960(0x1ce));}else _0x53e3b7=http[_0x9ec960(0x1ad)](app);const _0x164b63=_0x4bec22=>{const _0x154fa0=_0x9ec960;_0x4bec22[_0x154fa0(0x23d)](config[_0x154fa0(0x215)],()=>{const _0x44230f=_0x154fa0;console['log'](_0x44230f(0x1d7),_0x44230f(0x234)+config[_0x44230f(0x215)]);});};_0x164b63(_0x53e3b7),_0x53e3b7['on'](_0x9ec960(0x230),_0xf523d1=>{const _0x1c4793=_0x9ec960;_0xf523d1[_0x1c4793(0x1bb)]===_0x1c4793(0x1d2)&&(console['error']('Address\x20in\x20use,\x20retrying...'),setTimeout(()=>{const _0x598562=_0x1c4793;_0x53e3b7[_0x598562(0x21c)](),_0x164b63(_0x53e3b7);},0x3e8));}),_0x53e3b7['on'](_0x9ec960(0x204),(_0x3550b0,_0x8b0fdd,_0x18b5e7)=>{const _0x102d66=_0x9ec960;_0x3550b0['url'][_0x102d66(0x1eb)]('?')[0x0]===config[_0x102d66(0x243)]?wsProxy['upgrade'](_0x3550b0,_0x8b0fdd,_0x18b5e7):_0x8b0fdd[_0x102d66(0x219)]();});}(async _0x126a63=>{})(),start();async function start(_0x20b2c6=![]){const _0x24491=_0x5da1cb;if(config[_0x24491(0x1c8)]){if(!fs['existsSync'](path[_0x24491(0x1e2)](process[_0x24491(0x18e)](),config[_0x24491(0x18c)]))){const _0x35bb8a=await download_argo();_0x35bb8a?console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x21b)):console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x23a));}else console['log'](_0x24491(0x21d),_0x24491(0x1d8));const _0x4fb7cc=await start_argo();_0x4fb7cc[0x0]?(pid_argo=_0x4fb7cc[0x1],console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x19b))):console['log'](_0x24491(0x21d),_0x24491(0x1f7),_0x4fb7cc[0x1]);}if(!fs[_0x24491(0x1ff)](path[_0x24491(0x1e2)](process[_0x24491(0x18e)](),config[_0x24491(0x1b8)]))){const _0x2ab9e8=await download_core();_0x2ab9e8?console[_0x24491(0x22a)](_0x24491(0x21d),'core下载成功'):console[_0x24491(0x22a)](_0x24491(0x21d),'core下载失败');}else console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x1ef));const _0x4c267b=await start_core();_0x4c267b[0x0]?(pid_core=_0x4c267b[0x1],console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x20a))):console[_0x24491(0x22a)](_0x24491(0x21d),_0x24491(0x21a),_0x4c267b[0x1]);if(!_0x20b2c6)listen_port();}keepalive();function keepalive(){const _0x3d7e7f=_0x5da1cb;let _0x557a33='';_0x557a33=process[_0x3d7e7f(0x236)][_0x3d7e7f(0x24d)];if(!_0x557a33)return;https[_0x3d7e7f(0x235)]('https://'+_0x557a33+_0x3d7e7f(0x1c6),_0x596f4c=>{const _0x31e086=_0x3d7e7f;if(_0x596f4c[_0x31e086(0x229)]==0xcc){}else{}})['on'](_0x3d7e7f(0x230),_0x3be228=>{const _0x203aad=_0x3d7e7f;console['log'](_0x203aad(0x1ee)+_0x3be228);}),setTimeout(()=>{keepalive();},Math[_0x3d7e7f(0x223)](Math[_0x3d7e7f(0x20f)]()*0xf)*0x3e8*0x3c/0x2);}
